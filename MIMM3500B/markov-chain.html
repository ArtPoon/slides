<!-- by Victor Powell (http://setosa.io/blog/2014/07/26/markov-chains/) -->
<!DOCTYPE html>
<html>
  <head>
    <title>Markov Chains</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link href="css/mc-style.css" type="text/css" rel="stylesheet">
<!-- script expects d3 version 3.4.1 -->
    <script src="js/d3.v3.min.js"></script>
    <script src="js/vector.js"></script>
    <script src="js/angular.min.js" charset="utf-8"></script>
<style>
</style>
</head>
<body ng-app="myApp" ng-controller="MainCtrl">
  <st-diagram states="states" transition-matrix="transitionMatrix"
  center="diagramCenter"
  duration="duration"></st-diagram>
  <div class="sequence" step-1="70%" step-2="60%"></div>
</body>
<script>

var myApp = angular.module('myApp', []);

myApp.controller('MainCtrl', function($scope, utils, $window) {
  $scope.states = [
    { text: 'A', label: 'A', index: 0 },
    { text: 'C', label: 'C', index: 1 },
    { text: 'G', label: 'G', index: 2 },
    { text: 'T', label: 'T', index: 3 }
    ];
  
  angular.element($window).on('resize', function() { $scope.$apply(); });

  $scope.diagramCenter = [0.50, 0.5];
  
  $scope.speedRange = 2;
  $scope.$watch('speedRange', function(speed) {
    $scope.duration = 2000 / +speed;
  });

  $scope.transitionMatrix = [
    [0.5, 0.1, 0.3, 0.1],
    [0.1, 0.5, 0.1, 0.3],
    [0.3, 0.1, 0.5, 0.1],
    [0.1, 0.3, 0.1, 0.5]
  ];
});
</script>
<script src="js/common.js" charset="utf-8"></script>
</html>
