<!DOCTYPE html>
<html>
<head>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <style>
        .link {
            stroke: #aaa;
            stroke-width: 2px;
        }

        .node {
            stroke: #fff;
            stroke-width: 2px;
        }
        .textClass {
            stroke: #323232;
            font-family: "Lucida Grande", "Droid Sans", Arial, Helvetica, sans-serif;
            font-weight: normal;
            stroke-width: .5;
            font-size: 14px;
        }
    </style>
</head>

<body>
<script>        

    var _transitions = [],
        _inverse_transitions = [];
    
    // from http://bl.ocks.org/hugolpz/cd89b50d834828261b45af9e7a5ce926
    var graph;
    function myGraph() {
        this.addNode = function(id, geno, r) {
            nodes.push({"id": id, "geno": geno, "r": r})
            update();
        };
        
        this.removeNode = function(id) {
            var i = 0;
            var n = findNode(id);
            while (i < links.length) {
                if ((links[i]['source'] == n) || (links[i]['target'] == n)) {
                    links.splice(i, 1);
                }
                else i++;
            }
            nodes.splice(findNodeIndex(id), 1);
            update();
        };
        
        this.removeLink = function (source, target) {
            for (var i = 0; i < links.length; i++) {
                if (links[i].source.id == source && links[i].target.id == target) {
                    links.splice(i, 1);
                    break;
                }
            }
            update();
        };
        
        this.removeAllLinks = function () {
            links.splice(0, links.length);
            update();
        };
        
        this.removeAllNodes = function () {
            nodes.splice(0, nodes.length); 
            update();
        };
        
        this.addLink = function(source, target, dist) {
            links.push({"source": findNode(source), "target": findNode(target), "dist": dist});
            update();
        };
        
        var findNode = function(id) {
            for (var i in nodes) {
                if (nodes[i]["id"] === id) return nodes[i];
            }
            ;  // why is this here?
        };
        
        var findNodeIndex = function(id) {
            for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].id == id) {
                    return i;
                }
            }
            ;
        };
        
        // =================== set up d3 ===================
        var w = 960,  // width
            h = 700;  // height
        
        var color = d3.scale.ordinal()
            .domain(["S", "I", "R"])
            .range(["#266A2E", "#FFA500", "#B22222"]);
        
        var vis = d3.select("body")
                    .append("svg:svg")
                    .attr("width", w)
                    .attr("height", h)
                    .attr("id", "svg")
                    .attr("pointer-events", "all")
                    .attr("viewBox", "0 0 " + w + " " + h)
                    .attr("perserveAspectRatio", "xMinYMid")
                    .append('svg:g');
                
        // position linked nodes using physical simulation
        var force = d3.layout.force();
        
        var nodes = force.nodes(),
            links = force.links();
        
        var update = function() {
            var link = vis.selectAll("line")
                    .data(links, function (d) {
                        return d.source.id + "-" + d.target.id;
                    });
            
            link.enter().append("line")
                .attr("id", function (d) {
                    return d.source.id + '-' + d.target.id;
                })
                .attr("class", "link");
            link.exit().remove();
            
            var node = vis.selectAll("g.node")
                .data(nodes, function(d) {
                    return d.id;
                });
            
            var nodeEnter = node.enter().append("g")
                .attr("class", "node")
                .call(force.drag);
            
            nodeEnter.append("svg:circle")
                .attr("r", function (d) { return 100*d.r; })
                .attr("id", function (d) { return d.id; })
                .attr("class", "nodeStrokeClass")
                .attr("fill", function(d) { return color(d.geno); });
            
            node.exit().remove();
            
            force.on("tick", function() {
                node.attr("transform", function (d) {
                    return "translate(" + d.x + "," + d.y + ")";
                });
                
                link.attr("x1", function(d) { return d.source.x; })
                    .attr("y1", function(d) { return d.source.y; })
                    .attr("x2", function(d) { return d.target.x; })
                    .attr("y2", function(d) { return d.target.y; });
            });
            
            // restart the force layout
            force.charge(-500)
                 .linkDistance(function(d) { 
                    return 200*d.dist; 
                 })
                 .size([w, h])
                 .start();
        };
        
        update();  // go!
    }
    

    var data = {
        "nodes": [
            {"id":"HHALUNAUUN", "group":"0", "geno":"R", "r":0.134208},
            {"id":"GUTDNHTTAA", "group":"0", "geno":"R", "r":0.190607},
            {"id":"UUWAULWHNI", "group":"0", "geno":"S", "r":0.05},
            {"id":"GLWAUTHLGL", "group":"1", "geno":"S", "r":0.30825},
            {"id":"HUWHUAIDHW", "group":"1", "geno":"R", "r":0.243747},
            {"id":"NTWGIANDN", "group":"0", "geno":"S", "r":0.05},
            {"id":"WDGAGUIGT", "group":"1", "geno":"R", "r":0.150859},
            {"id":"GGUNIGLDHL", "group":"0", "geno":"R", "r":0.05},
            {"id":"GNUHLADAII", "group":"0", "geno":"S", "r":0.05},
            {"id":"ULALWIHHD", "group":"0", "geno":"S", "r":0.05},
            {"id":"HTAAIUHNUA", "group":"1", "geno":"R", "r":0.226749},
            {"id":"TWDDNHNGT", "group":"0", "geno":"S", "r":0.05},
            {"id":"HHTUUANAGN", "group":"0", "geno":"R", "r":0.05},
            {"id":"LTLIGDGLU", "group":"0", "geno":"R", "r":0.05},
            {"id":"UGAGLLUIL", "group":"0", "geno":"S", "r":0.199302},
            {"id":"UWDAATNGWT", "group":"0", "geno":"S", "r":0.05},
            {"id":"HWLGHWAUTI", "group":"0", "geno":"S", "r":0.05},
            {"id":"GAHNAWTHGN", "group":"0", "geno":"S", "r":0.05},
            {"id":"GAHWLLLADH", "group":"1", "geno":"R", "r":0.241204},
            {"id":"GITGUWWDLT", "group":"1", "geno":"S", "r":0.187664},
            {"id":"GLAWATIIGT", "group":"0", "geno":"S", "r":0.05},
            {"id":"UWLGHUIDGH", "group":"0", "geno":"S", "r":0.05},
            {"id":"HNDTDWGNWI", "group":"1", "geno":"R", "r":0.259214},
            {"id":"THALNTTHNW", "group":"0", "geno":"R", "r":0.05},
            {"id":"GTUUDTNNDN", "group":"0", "geno":"R", "r":0.265557},
            {"id":"UWWGHLNWA", "group":"1", "geno":"R", "r":0.211895},
            {"id":"GDAHWLHHWA", "group":"0", "geno":"S", "r":0.05},
            {"id":"TAULIIWGT", "group":"1", "geno":"S", "r":0.331881},
            {"id":"DNULGNUIU", "group":"0", "geno":"S", "r":0.05},
            {"id":"GTWWHGNWHU", "group":"0", "geno":"R", "r":0.05},
            {"id":"TGNTIGLHND", "group":"0", "geno":"S", "r":0.05},
            {"id":"UWHUGWGWNG", "group":"1", "geno":"R", "r":0.281104},
            {"id":"TGLDTUGHII", "group":"0", "geno":"R", "r":0.05},
            {"id":"HITTILWHUA", "group":"0", "geno":"R", "r":0.05},
            {"id":"UHTDNAUHUN", "group":"0", "geno":"S", "r":0.261599},
            {"id":"NNLNNUAWA", "group":"1", "geno":"R", "r":0.176038}
        ],
        "links":[
            {"source":"UGAGLLUIL", "target":"TGNTIGLHND", "dist":0.237}, {"source":"GUTDNHTTAA", "target":"UUWAULWHNI", "dist":0.703}, {"source":"GLAWATIIGT", "target":"HITTILWHUA", "dist":0.6175}, {"source":"UWHUGWGWNG", "target":"NNLNNUAWA", "dist":0.398}, {"source":"HNDTDWGNWI", "target":"UWWGHLNWA", "dist":0.442}, {"source":"HUWHUAIDHW", "target":"HTAAIUHNUA", "dist":0.3815}, {"source":"HITTILWHUA", "target":"UWWGHLNWA", "dist":0.7025}, {"source":"GTUUDTNNDN", "target":"HHALUNAUUN", "dist":0.5245}, {"source":"GUTDNHTTAA", "target":"GTWWHGNWHU", "dist":0.467}, {"source":"TGLDTUGHII", "target":"LTLIGDGLU", "dist":0.4885}, {"source":"GAHNAWTHGN", "target":"TAULIIWGT", "dist":0.9705}, {"source":"GTUUDTNNDN", "target":"HITTILWHUA", "dist":0.7125}, {"source":"HITTILWHUA", "target":"HHALUNAUUN", "dist":0.343}, {"source":"GUTDNHTTAA", "target":"HUWHUAIDHW", "dist":0.6695}, {"source":"GGUNIGLDHL", "target":"HNDTDWGNWI", "dist":1.048}, {"source":"GLWAUTHLGL", "target":"WDGAGUIGT", "dist":0.8165}, {"source":"GLAWATIIGT", "target":"HHALUNAUUN", "dist":0.5395}, {"source":"GLAWATIIGT", "target":"HNDTDWGNWI", "dist":0.849}, {"source":"UWWGHLNWA", "target":"THALNTTHNW", "dist":0.4885}, {"source":"ULALWIHHD", "target":"NNLNNUAWA", "dist":0.431}, {"source":"GTWWHGNWHU", "target":"HTAAIUHNUA", "dist":0.703}, {"source":"GGUNIGLDHL", "target":"THALNTTHNW", "dist":0.7645}, {"source":"LTLIGDGLU", "target":"WDGAGUIGT", "dist":0.4925}, {"source":"GTWWHGNWHU", "target":"NTWGIANDN", "dist":1.0725}, {"source":"HHALUNAUUN", "target":"UWHUGWGWNG", "dist":0.249}, {"source":"HHALUNAUUN", "target":"TWDDNHNGT", "dist":0.944}, {"source":"HUWHUAIDHW", "target":"UUWAULWHNI", "dist":0.5015}, {"source":"HITTILWHUA", "target":"WDGAGUIGT", "dist":0.7515}, {"source":"UWHUGWGWNG", "target":"NTWGIANDN", "dist":0.9785}, {"source":"GGUNIGLDHL", "target":"ULALWIHHD", "dist":0.972}, {"source":"GUTDNHTTAA", "target":"UWHUGWGWNG", "dist":0.373}, {"source":"GUTDNHTTAA", "target":"TWDDNHNGT", "dist":1.068}, {"source":"GGUNIGLDHL", "target":"NNLNNUAWA", "dist":0.8875}, {"source":"TGLDTUGHII", "target":"THALNTTHNW", "dist":0.41}, {"source":"THALNTTHNW", "target":"DNULGNUIU", "dist":0.3945}, {"source":"GTUUDTNNDN", "target":"ULALWIHHD", "dist":0.6515}, {"source":"GGUNIGLDHL", "target":"HHTUUANAGN", "dist":0.711}, {"source":"HHALUNAUUN", "target":"WDGAGUIGT", "dist":0.5635}, {"source":"UUWAULWHNI", "target":"NNLNNUAWA", "dist":0.452}, {"source":"GUTDNHTTAA", "target":"WDGAGUIGT", "dist":0.8295}, {"source":"GTUUDTNNDN", "target":"NNLNNUAWA", "dist":0.3755}, {"source":"GAHWLLLADH", "target":"HTAAIUHNUA", "dist":0.66}, {"source":"HNDTDWGNWI", "target":"UUWAULWHNI", "dist":0.5625}, {"source":"HNDTDWGNWI", "target":"ULALWIHHD", "dist":0.5415}, {"source":"GGUNIGLDHL", "target":"LTLIGDGLU", "dist":0.8995}, {"source":"GGUNIGLDHL", "target":"UWWGHLNWA", "dist":1.098}, {"source":"HUWHUAIDHW", "target":"LTLIGDGLU", "dist":0.4305}, {"source":"GLWAUTHLGL", "target":"TGLDTUGHII", "dist":0.7025}, {"source":"HITTILWHUA", "target":"LTLIGDGLU", "dist":0.516}, {"source":"THALNTTHNW", "target":"NTWGIANDN", "dist":1.0205}, {"source":"HHALUNAUUN", "target":"DNULGNUIU", "dist":0.3}, {"source":"UWWGHLNWA", "target":"DNULGNUIU", "dist":0.6595}, {"source":"TWDDNHNGT", "target":"NTWGIANDN", "dist":0.4385}, {"source":"GAHWLLLADH", "target":"HNDTDWGNWI", "dist":0.6095}, {"source":"GAHNAWTHGN", "target":"HHTUUANAGN", "dist":1.067}, {"source":"GUTDNHTTAA", "target":"UWLGHUIDGH", "dist":1.0035}, {"source":"GTWWHGNWHU", "target":"GLWAUTHLGL", "dist":0.73}, {"source":"GAHWLLLADH", "target":"DNULGNUIU", "dist":0.335}, {"source":"THALNTTHNW", "target":"NNLNNUAWA", "dist":0.278}, {"source":"HTAAIUHNUA", "target":"UUWAULWHNI", "dist":0.613}, {"source":"HUWHUAIDHW", "target":"WDGAGUIGT", "dist":0.678}, {"source":"ULALWIHHD", "target":"UWHUGWGWNG", "dist":0.51}, {"source":"GNUHLADAII", "target":"NTWGIANDN", "dist":0.7355}, {"source":"HNDTDWGNWI", "target":"TGLDTUGHII", "dist":0.625}, {"source":"UUWAULWHNI", "target":"UWWGHLNWA", "dist":0.6125}, {"source":"GLWAUTHLGL", "target":"DNULGNUIU", "dist":0.687}, {"source":"TGNTIGLHND", "target":"TAULIIWGT", "dist":0.5365}, {"source":"UWHUGWGWNG", "target":"TWDDNHNGT", "dist":0.928}, {"source":"GNUHLADAII", "target":"TGNTIGLHND", "dist":0.2095}, {"source":"UUWAULWHNI", "target":"UWHUGWGWNG", "dist":0.531}, {"source":"GDAHWLHHWA", "target":"GLAWATIIGT", "dist":0.9295}, {"source":"UWWGHLNWA", "target":"WDGAGUIGT", "dist":0.789}, {"source":"UWHUGWGWNG", "target":"UWWGHLNWA", "dist":0.6085}, {"source":"GUTDNHTTAA", "target":"HITTILWHUA", "dist":0.467}, {"source":"HITTILWHUA", "target":"NNLNNUAWA", "dist":0.492}, {"source":"GTWWHGNWHU", "target":"NNLNNUAWA", "dist":0.4645}, {"source":"GUTDNHTTAA", "target":"NNLNNUAWA", "dist":0.57}, {"source":"GAHNAWTHGN", "target":"NTWGIANDN", "dist":0.364}, {"source":"HITTILWHUA", "target":"HHTUUANAGN", "dist":0.3155}, {"source":"GTUUDTNNDN", "target":"HTAAIUHNUA", "dist":0.7505}, {"source":"GAHWLLLADH", "target":"UWHUGWGWNG", "dist":0.206}, {"source":"HHTUUANAGN", "target":"NNLNNUAWA", "dist":0.3315}, {"source":"GAHWLLLADH", "target":"THALNTTHNW", "dist":0.326}, {"source":"GTWWHGNWHU", "target":"DNULGNUIU", "dist":0.378}, {"source":"HTAAIUHNUA", "target":"UWHUGWGWNG", "dist":0.609}, {"source":"HHTUUANAGN", "target":"UWHUGWGWNG", "dist":0.2215}, {"source":"HHALUNAUUN", "target":"UWWGHLNWA", "dist":0.5145}, {"source":"GNUHLADAII", "target":"GLAWATIIGT", "dist":1.0395}, {"source":"ULALWIHHD", "target":"WDGAGUIGT", "dist":0.663}, {"source":"TAULIIWGT", "target":"NTWGIANDN", "dist":0.8705}, {"source":"GLAWATIIGT", "target":"NTWGIANDN", "dist":0.793}, {"source":"GGUNIGLDHL", "target":"NTWGIANDN", "dist":0.727}, {"source":"HHTUUANAGN", "target":"UWWGHLNWA", "dist":0.542}, {"source":"HNDTDWGNWI", "target":"WDGAGUIGT", "dist":0.739}, {"source":"UWWGHLNWA", "target":"LTLIGDGLU", "dist":0.5535}, {"source":"GDAHWLHHWA", "target":"TWDDNHNGT", "dist":0.342}, {"source":"GUTDNHTTAA", "target":"ULALWIHHD", "dist":0.6545}, {"source":"TGLDTUGHII", "target":"NNLNNUAWA", "dist":0.4645}, {"source":"GUTDNHTTAA", "target":"GAHWLLLADH", "dist":0.424}, {"source":"TWDDNHNGT", "target":"NNLNNUAWA", "dist":1.093}, {"source":"GAHWLLLADH", "target":"UUWAULWHNI", "dist":0.582}, {"source":"GGUNIGLDHL", "target":"GDAHWLHHWA", "dist":0.8635}, {"source":"GUTDNHTTAA", "target":"HHTUUANAGN", "dist":0.3065}, {"source":"GTWWHGNWHU", "target":"HHALUNAUUN", "dist":0.343}, {"source":"GTWWHGNWHU", "target":"ULALWIHHD", "dist":0.604}, {"source":"GNUHLADAII", "target":"TWDDNHNGT", "dist":0.452}, {"source":"GTWWHGNWHU", "target":"THALNTTHNW", "dist":0.4375}, {"source":"GTUUDTNNDN", "target":"GTWWHGNWHU", "dist":0.7125}, {"source":"HWLGHWAUTI", "target":"UWLGHUIDGH", "dist":0.5765}, {"source":"HHTUUANAGN", "target":"UUWAULWHNI", "dist":0.4645}, {"source":"GUTDNHTTAA", "target":"GTUUDTNNDN", "dist":0.7905}, {"source":"HTAAIUHNUA", "target":"NNLNNUAWA", "dist":0.53}, {"source":"UWHUGWGWNG", "target":"DNULGNUIU", "dist":0.284}, {"source":"GGUNIGLDHL", "target":"TGNTIGLHND", "dist":0.836}, {"source":"GUTDNHTTAA", "target":"GLAWATIIGT", "dist":0.6635}, {"source":"GLWAUTHLGL", "target":"ULALWIHHD", "dist":0.3085}, {"source":"TGLDTUGHII", "target":"NTWGIANDN", "dist":1.045}, {"source":"GLAWATIIGT", "target":"HTAAIUHNUA", "dist":0.8995}, {"source":"HHALUNAUUN", "target":"UUWAULWHNI", "dist":0.437}, {"source":"HHTUUANAGN", "target":"WDGAGUIGT", "dist":0.591}, {"source":"GGUNIGLDHL", "target":"GAHWLLLADH", "dist":0.7735}, {"source":"UWHUGWGWNG", "target":"THALNTTHNW", "dist":0.3435}, {"source":"GNUHLADAII", "target":"GAHNAWTHGN", "dist":0.7525}, {"source":"UUWAULWHNI", "target":"LTLIGDGLU", "dist":0.464}, {"source":"UGAGLLUIL", "target":"THALNTTHNW", "dist":1.0475}, {"source":"GTUUDTNNDN", "target":"UWHUGWGWNG", "dist":0.6185}, {"source":"GLAWATIIGT", "target":"GLWAUTHLGL", "dist":0.9265}, {"source":"GGUNIGLDHL", "target":"GUTDNHTTAA", "dist":0.8625}, {"source":"UGAGLLUIL", "target":"NTWGIANDN", "dist":0.516}, {"source":"GAHWLLLADH", "target":"ULALWIHHD", "dist":0.561}, {"source":"HHALUNAUUN", "target":"UGAGLLUIL", "dist":1.0215}, {"source":"GLWAUTHLGL", "target":"UWHUGWGWNG", "dist":0.636}, {"source":"TGNTIGLHND", "target":"TWDDNHNGT", "dist":0.3145}, {"source":"UWHUGWGWNG", "target":"WDGAGUIGT", "dist":0.6575}, {"source":"GTUUDTNNDN", "target":"LTLIGDGLU", "dist":0.4535}, {"source":"HUWHUAIDHW", "target":"ULALWIHHD", "dist":0.453}, {"source":"ULALWIHHD", "target":"LTLIGDGLU", "dist":0.443}, {"source":"GITGUWWDLT", "target":"UWLGHUIDGH", "dist":1.027}, {"source":"HHALUNAUUN", "target":"ULALWIHHD", "dist":0.3885}, {"source":"GGUNIGLDHL", "target":"HITTILWHUA", "dist":0.8165}, {"source":"HITTILWHUA", "target":"HUWHUAIDHW", "dist":0.5915}, {"source":"GUTDNHTTAA", "target":"GNUHLADAII", "dist":0.975}, {"source":"GLWAUTHLGL", "target":"UUWAULWHNI", "dist":0.505}, {"source":"HNDTDWGNWI", "target":"LTLIGDGLU", "dist":0.5035}, {"source":"GLAWATIIGT", "target":"HUWHUAIDHW", "dist":0.788}, {"source":"GUTDNHTTAA", "target":"TGNTIGLHND", "dist":0.8375}, {"source":"GUTDNHTTAA", "target":"GLWAUTHLGL", "dist":0.808}, {"source":"GGUNIGLDHL", "target":"HUWHUAIDHW", "dist":0.987}, {"source":"UWHUGWGWNG", "target":"LTLIGDGLU", "dist":0.422}, {"source":"UGAGLLUIL", "target":"TWDDNHNGT", "dist":0.2325}, {"source":"HITTILWHUA", "target":"TWDDNHNGT", "dist":1.022}, {"source":"GTWWHGNWHU", "target":"GAHWLLLADH", "dist":0.222}, {"source":"GLAWATIIGT", "target":"TGNTIGLHND", "dist":0.902}, {"source":"HUWHUAIDHW", "target":"UWWGHLNWA", "dist":0.381}, {"source":"ULALWIHHD", "target":"TGLDTUGHII", "dist":0.5765}, {"source":"GGUNIGLDHL", "target":"TWDDNHNGT", "dist":0.6765}, {"source":"GTUUDTNNDN", "target":"DNULGNUIU", "dist":0.6695}, {"source":"HHTUUANAGN", "target":"TWDDNHNGT", "dist":0.9165}, {"source":"HTAAIUHNUA", "target":"WDGAGUIGT", "dist":0.7895}, {"source":"DNULGNUIU", "target":"LTLIGDGLU", "dist":0.473}, {"source":"DNULGNUIU", "target":"NTWGIANDN", "dist":0.8725}, {"source":"HITTILWHUA", "target":"NTWGIANDN", "dist":1.0725}, {"source":"HHALUNAUUN", "target":"LTLIGDGLU", "dist":0.316}, {"source":"UGAGLLUIL", "target":"TAULIIWGT", "dist":0.5095}, {"source":"TGLDTUGHII", "target":"TWDDNHNGT", "dist":0.9945}, {"source":"GTWWHGNWHU", "target":"WDGAGUIGT", "dist":0.7515}, {"source":"GLAWATIIGT", "target":"UUWAULWHNI", "dist":0.8215}, {"source":"UUWAULWHNI", "target":"TGLDTUGHII", "dist":0.5975}, {"source":"GLAWATIIGT", "target":"TWDDNHNGT", "dist":0.7425}, {"source":"HTAAIUHNUA", "target":"THALNTTHNW", "dist":0.489}, {"source":"GAHWLLLADH", "target":"UGAGLLUIL", "dist":1.0565}, {"source":"GLAWATIIGT", "target":"ULALWIHHD", "dist":0.8005}, {"source":"GGUNIGLDHL", "target":"TGLDTUGHII", "dist":0.789}, {"source":"ULALWIHHD", "target":"THALNTTHNW", "dist":0.3625}, {"source":"GTWWHGNWHU", "target":"TWDDNHNGT", "dist":1.022}, {"source":"GTWWHGNWHU", "target":"UGAGLLUIL", "dist":1.0995}, {"source":"GUTDNHTTAA", "target":"UGAGLLUIL", "dist":0.7555}, {"source":"TGNTIGLHND", "target":"DNULGNUIU", "dist":0.9815}, {"source":"HTAAIUHNUA", "target":"LTLIGDGLU", "dist":0.542}, {"source":"HNDTDWGNWI", "target":"THALNTTHNW", "dist":0.4385}, {"source":"HHALUNAUUN", "target":"HNDTDWGNWI", "dist":0.4645}, {"source":"GUTDNHTTAA", "target":"UWWGHLNWA", "dist":0.7805}, {"source":"GDAHWLHHWA", "target":"TAULIIWGT", "dist":0.564}, {"source":"HHTUUANAGN", "target":"THALNTTHNW", "dist":0.2085}, {"source":"ULALWIHHD", "target":"DNULGNUIU", "dist":0.561}, {"source":"GTUUDTNNDN", "target":"HHTUUANAGN", "dist":0.552}, {"source":"GAHNAWTHGN", "target":"UWHUGWGWNG", "dist":1.0785}, {"source":"GLAWATIIGT", "target":"LTLIGDGLU", "dist":0.7125}, {"source":"GAHNAWTHGN", "target":"TWDDNHNGT", "dist":0.5385}, {"source":"GLAWATIIGT", "target":"NNLNNUAWA", "dist":0.6885}, {"source":"HNDTDWGNWI", "target":"DNULGNUIU", "dist":0.6095}, {"source":"HTAAIUHNUA", "target":"ULALWIHHD", "dist":0.592}, {"source":"GTUUDTNNDN", "target":"HUWHUAIDHW", "dist":0.639}, {"source":"GAHWLLLADH", "target":"UWWGHLNWA", "dist":0.6595}, {"source":"UUWAULWHNI", "target":"WDGAGUIGT", "dist":0.7115}, {"source":"THALNTTHNW", "target":"TWDDNHNGT", "dist":0.97}, {"source":"HHTUUANAGN", "target":"HHALUNAUUN", "dist":0.1825}, {"source":"GDAHWLHHWA", "target":"GNUHLADAII", "dist":0.182}, {"source":"GUTDNHTTAA", "target":"TGLDTUGHII", "dist":0.4395}, {"source":"GTUUDTNNDN", "target":"GAHWLLLADH", "dist":0.6695}, {"source":"GGUNIGLDHL", "target":"DNULGNUIU", "dist":0.6165}, {"source":"UWWGHLNWA", "target":"NNLNNUAWA", "dist":0.5295}, {"source":"GAHWLLLADH", "target":"HHALUNAUUN", "dist":0.3}, {"source":"UHTDNAUHUN", "target":"UWLGHUIDGH", "dist":0.408}, {"source":"HITTILWHUA", "target":"UUWAULWHNI", "dist":0.625}, {"source":"TWDDNHNGT", "target":"DNULGNUIU", "dist":0.822}, {"source":"GLWAUTHLGL", "target":"UWWGHLNWA", "dist":0.7175}, {"source":"HTAAIUHNUA", "target":"DNULGNUIU", "dist":0.66}, {"source":"GAHNAWTHGN", "target":"DNULGNUIU", "dist":0.9725}, {"source":"UHTDNAUHUN", "target":"UWDAATNGWT", "dist":1.0215}, {"source":"TGLDTUGHII", "target":"DNULGNUIU", "dist":0.3505}, {"source":"GLWAUTHLGL", "target":"HHTUUANAGN", "dist":0.5695}, {"source":"DNULGNUIU", "target":"WDGAGUIGT", "dist":0.7085}, {"source":"GAHWLLLADH", "target":"WDGAGUIGT", "dist":0.7085}, {"source":"GAHWLLLADH", "target":"TGLDTUGHII", "dist":0.1945}, {"source":"THALNTTHNW", "target":"WDGAGUIGT", "dist":0.5375}, {"source":"GUTDNHTTAA", "target":"NTWGIANDN", "dist":0.7285}, {"source":"GLWAUTHLGL", "target":"LTLIGDGLU", "dist":0.569}, {"source":"TGNTIGLHND", "target":"NTWGIANDN", "dist":0.598}, {"source":"DNULGNUIU", "target":"NNLNNUAWA", "dist":0.449}, {"source":"GGUNIGLDHL", "target":"UUWAULWHNI", "dist":1.0205}, {"source":"GAHWLLLADH", "target":"GLWAUTHLGL", "dist":0.687}, {"source":"HHTUUANAGN", "target":"ULALWIHHD", "dist":0.416}, {"source":"UGAGLLUIL", "target":"UWHUGWGWNG", "dist":1.0055}, {"source":"UWHUGWGWNG", "target":"TGNTIGLHND", "dist":1.06}, {"source":"HITTILWHUA", "target":"HTAAIUHNUA", "dist":0.703}, {"source":"GAHWLLLADH", "target":"NTWGIANDN", "dist":1.0295}, {"source":"HTAAIUHNUA", "target":"TGLDTUGHII", "dist":0.6755}, {"source":"GTUUDTNNDN", "target":"TGLDTUGHII", "dist":0.685}, {"source":"GAHWLLLADH", "target":"LTLIGDGLU", "dist":0.473}, {"source":"GLAWATIIGT", "target":"THALNTTHNW", "dist":0.5655}, {"source":"TGLDTUGHII", "target":"WDGAGUIGT", "dist":0.724}, {"source":"GDAHWLHHWA", "target":"DNULGNUIU", "dist":1.009}, {"source":"HHTUUANAGN", "target":"HUWHUAIDHW", "dist":0.431}, {"source":"UWHUGWGWNG", "target":"TGLDTUGHII", "dist":0.2215}, {"source":"HITTILWHUA", "target":"HNDTDWGNWI", "dist":0.6525}, {"source":"GTWWHGNWHU", "target":"UWWGHLNWA", "dist":0.7025}, {"source":"GUTDNHTTAA", "target":"GDAHWLHHWA", "dist":0.865}, {"source":"HHALUNAUUN", "target":"HTAAIUHNUA", "dist":0.515}, {"source":"HHALUNAUUN", "target":"NTWGIANDN", "dist":0.9945}, {"source":"GUTDNHTTAA", "target":"UHTDNAUHUN", "dist":1.0755}, {"source":"HITTILWHUA", "target":"DNULGNUIU", "dist":0.378}, {"source":"GGUNIGLDHL", "target":"GTWWHGNWHU", "dist":0.8165}, {"source":"GGUNIGLDHL", "target":"HHALUNAUUN", "dist":0.7385}, {"source":"GTWWHGNWHU", "target":"HHTUUANAGN", "dist":0.3155}, {"source":"HTAAIUHNUA", "target":"UWWGHLNWA", "dist":0.1545}, {"source":"GNUHLADAII", "target":"UGAGLLUIL", "dist":0.3745}, {"source":"GDAHWLHHWA", "target":"TGNTIGLHND", "dist":0.1825}, {"source":"GUTDNHTTAA", "target":"GAHNAWTHGN", "dist":0.8285}, {"source":"GAHWLLLADH", "target":"GLAWATIIGT", "dist":0.5745}, {"source":"UUWAULWHNI", "target":"THALNTTHNW", "dist":0.411}, {"source":"GTUUDTNNDN", "target":"GLAWATIIGT", "dist":0.909}, {"source":"HHALUNAUUN", "target":"THALNTTHNW", "dist":0.181}, {"source":"HUWHUAIDHW", "target":"THALNTTHNW", "dist":0.3775}, {"source":"HUWHUAIDHW", "target":"UWHUGWGWNG", "dist":0.4975}, {"source":"GGUNIGLDHL", "target":"HTAAIUHNUA", "dist":1.0985}, {"source":"GAHWLLLADH", "target":"NNLNNUAWA", "dist":0.449}, {"source":"GGUNIGLDHL", "target":"UWHUGWGWNG", "dist":0.7225}, {"source":"GLAWATIIGT", "target":"HHTUUANAGN", "dist":0.512}, {"source":"GAHWLLLADH", "target":"HITTILWHUA", "dist":0.222}, {"source":"GLAWATIIGT", "target":"UWHUGWGWNG", "dist":0.5235}, {"source":"GAHWLLLADH", "target":"HHTUUANAGN", "dist":0.2725}, {"source":"HITTILWHUA", "target":"UWHUGWGWNG", "dist":0.249}, {"source":"HITTILWHUA", "target":"THALNTTHNW", "dist":0.4375}, {"source":"GLAWATIIGT", "target":"UWWGHLNWA", "dist":0.899}, {"source":"GAHNAWTHGN", "target":"GLAWATIIGT", "dist":0.893}, {"source":"UWDAATNGWT", "target":"UWLGHUIDGH", "dist":0.9495}, {"source":"HTAAIUHNUA", "target":"HNDTDWGNWI", "dist":0.4425}, {"source":"GLWAUTHLGL", "target":"HUWHUAIDHW", "dist":0.6065}, {"source":"GUTDNHTTAA", "target":"LTLIGDGLU", "dist":0.582}, {"source":"GLWAUTHLGL", "target":"NNLNNUAWA", "dist":0.557}, {"source":"GTUUDTNNDN", "target":"UWWGHLNWA", "dist":0.75}, {"source":"GGUNIGLDHL", "target":"GNUHLADAII", "dist":0.9735}, {"source":"GLWAUTHLGL", "target":"THALNTTHNW", "dist":0.516}, {"source":"GDAHWLHHWA", "target":"NTWGIANDN", "dist":0.6255}, {"source":"GTUUDTNNDN", "target":"HNDTDWGNWI", "dist":0.7}, {"source":"UUWAULWHNI", "target":"DNULGNUIU", "dist":0.582}, {"source":"HUWHUAIDHW", "target":"DNULGNUIU", "dist":0.5485}, {"source":"GITGUWWDLT", "target":"UHTDNAUHUN", "dist":1.099}, {"source":"GLWAUTHLGL", "target":"HNDTDWGNWI", "dist":0.6675}, {"source":"HUWHUAIDHW", "target":"HNDTDWGNWI", "dist":0.277}, {"source":"GTWWHGNWHU", "target":"GLAWATIIGT", "dist":0.6175}, {"source":"GTWWHGNWHU", "target":"LTLIGDGLU", "dist":0.516}, {"source":"GAHNAWTHGN", "target":"UGAGLLUIL", "dist":0.616}, {"source":"HNDTDWGNWI", "target":"NNLNNUAWA", "dist":0.4795}, {"source":"HHALUNAUUN", "target":"TGLDTUGHII", "dist":0.3155}, {"source":"HHALUNAUUN", "target":"NNLNNUAWA", "dist":0.304}, {"source":"GTUUDTNNDN", "target":"UUWAULWHNI", "dist":0.6725}, {"source":"GLAWATIIGT", "target":"TGLDTUGHII", "dist":0.59}, {"source":"HUWHUAIDHW", "target":"TGLDTUGHII", "dist":0.564}, {"source":"GLWAUTHLGL", "target":"HITTILWHUA", "dist":0.73}, {"source":"NNLNNUAWA", "target":"WDGAGUIGT", "dist":0.4145}, {"source":"HHALUNAUUN", "target":"HUWHUAIDHW", "dist":0.4035}, {"source":"GLAWATIIGT", "target":"UGAGLLUIL", "dist":0.82}, {"source":"HHTUUANAGN", "target":"TGNTIGLHND", "dist":1.076}, {"source":"GGUNIGLDHL", "target":"UGAGLLUIL", "dist":0.754}, {"source":"GUTDNHTTAA", "target":"HHALUNAUUN", "dist":0.279}, {"source":"UUWAULWHNI", "target":"ULALWIHHD", "dist":0.3515}, {"source":"UWWGHLNWA", "target":"TGLDTUGHII", "dist":0.675}, {"source":"HUWHUAIDHW", "target":"NNLNNUAWA", "dist":0.4185}, {"source":"HHTUUANAGN", "target":"HTAAIUHNUA", "dist":0.5425}, {"source":"ULALWIHHD", "target":"UWWGHLNWA", "dist":0.5915}, {"source":"GGUNIGLDHL", "target":"GAHNAWTHGN", "dist":0.827}, {"source":"GLAWATIIGT", "target":"WDGAGUIGT", "dist":0.948}, {"source":"UGAGLLUIL", "target":"TGLDTUGHII", "dist":1.072}, {"source":"GUTDNHTTAA", "target":"HNDTDWGNWI", "dist":0.7305}, {"source":"HITTILWHUA", "target":"ULALWIHHD", "dist":0.604}, {"source":"HHTUUANAGN", "target":"NTWGIANDN", "dist":0.967}, {"source":"GAHNAWTHGN", "target":"HHALUNAUUN", "dist":1.0945}, {"source":"GTWWHGNWHU", "target":"HNDTDWGNWI", "dist":0.6525}, {"source":"GAHNAWTHGN", "target":"TGNTIGLHND", "dist":0.698}, {"source":"HHTUUANAGN", "target":"LTLIGDGLU", "dist":0.3435}, {"source":"GUTDNHTTAA", "target":"HTAAIUHNUA", "dist":0.781}, {"source":"GAHWLLLADH", "target":"HUWHUAIDHW", "dist":0.5485}, {"source":"GUTDNHTTAA", "target":"DNULGNUIU", "dist":0.424}, {"source":"HWLGHWAUTI", "target":"UHTDNAUHUN", "dist":0.4585}, {"source":"GTWWHGNWHU", "target":"HUWHUAIDHW", "dist":0.5915}, {"source":"GLAWATIIGT", "target":"DNULGNUIU", "dist":0.4175}, {"source":"GTWWHGNWHU", "target":"TGLDTUGHII", "dist":0.1825}, {"source":"HHTUUANAGN", "target":"HNDTDWGNWI", "dist":0.492}, {"source":"GAHWLLLADH", "target":"TWDDNHNGT", "dist":0.979}, {"source":"GTWWHGNWHU", "target":"HITTILWHUA", "dist":0.1825}, {"source":"HHTUUANAGN", "target":"DNULGNUIU", "dist":0.2725}, {"source":"UGAGLLUIL", "target":"DNULGNUIU", "dist":0.8995}, {"source":"GTWWHGNWHU", "target":"UUWAULWHNI", "dist":0.625}, {"source":"HNDTDWGNWI", "target":"UWHUGWGWNG", "dist":0.5585}, {"source":"THALNTTHNW", "target":"LTLIGDGLU", "dist":0.29}, {"source":"GDAHWLHHWA", "target":"GAHNAWTHGN", "dist":0.7255}, {"source":"GNUHLADAII", "target":"TAULIIWGT", "dist":0.674}, {"source":"GTWWHGNWHU", "target":"UWHUGWGWNG", "dist":0.249}, {"source":"GDAHWLHHWA", "target":"UGAGLLUIL", "dist":0.2645}, {"source":"GTUUDTNNDN", "target":"GLWAUTHLGL", "dist":0.7775}, {"source":"GLWAUTHLGL", "target":"HTAAIUHNUA", "dist":0.718}, {"source":"HITTILWHUA", "target":"UGAGLLUIL", "dist":1.0995}, {"source":"GUTDNHTTAA", "target":"THALNTTHNW", "dist":0.447}, {"source":"HHTUUANAGN", "target":"UGAGLLUIL", "dist":0.994}, {"source":"NNLNNUAWA", "target":"LTLIGDGLU", "dist":0.221}, {"source":"HITTILWHUA", "target":"TGLDTUGHII", "dist":0.1825}, {"source":"TAULIIWGT", "target":"TWDDNHNGT", "dist":0.587}, {"source":"GTUUDTNNDN", "target":"WDGAGUIGT", "dist":0.297}, {"source":"HHTUUANAGN", "target":"TGLDTUGHII", "dist":0.288}, {"source":"GTUUDTNNDN", "target":"THALNTTHNW", "dist":0.4985}, {"source":"GLWAUTHLGL", "target":"HHALUNAUUN", "dist":0.542}
        ]
    };

    function drawGraph() {
        graph = new myGraph();
        
        for (var i = 0; i < data.nodes.length; i++) {
            node = data.nodes[i];
            if (node.group=="0") {
                graph.addNode(node.id, node.geno, node.r);
            }
        }
        
        for (var i = 0; i < data.links.length; i++) {
            link = data.links[i];
            
            for (var j = 0; j < data.nodes.length; j++) {
                node = data.nodes[j];
                if (node.id == link.source) {
                    node1 = node;
                }
                if (node.id == link.target) {
                    node2 = node;
                }
            }
            
            if (node1.group=="0" && node2.group=="0") {
                graph.addLink(link.source, link.target, link.dist);
            }
        }
        keepNodesOnTop();
    }
    
    drawGraph("cluster55");
    /* vis.append("text")
       .attr("x", 100)
       .attr("y", 100)
       .text("testing"); */
    
    function keepNodesOnTop() {
        $(".nodeStrokeClass").each(function( index ) {
            var gnode = this.parentNode;
            gnode.parentNode.appendChild(gnode);
        });
    }    
    
    // June
    _transitions.push(
        () => {
            for (var i = 0; i < data.nodes.length; i++) {
                node = data.nodes[i];
                if (node.group=="1") {
                    graph.addNode(node.id, node.geno, node.r);
                }
            }
            
            for (var i = 0; i < data.links.length; i++) {
                link = data.links[i];
            
                for (var j = 0; j < data.nodes.length; j++) {
                    node = data.nodes[j];
                    if (node.id == link.source) {
                        node1 = node;
                    }
                    if (node.id == link.target) {
                        node2 = node;
                    }
                }
            
                if (node1.group=="1" || node2.group=="1") {
                    graph.addLink(link.source, link.target, link.dist);
                }
            }
            keepNodesOnTop();
        }
    );
    
    _inverse_transitions.push(
        () => {
            for (var i = 0; i < data.nodes.length; i++) {
                node = data.nodes[i];
                if (node.group=="1") {
                    graph.removeNode(node.id);
                }
            }
            
            for (var i = 0; i < data.links.length; i++) {
                link = data.links[i];
            
                for (var j = 0; j < data.nodes.length; j++) {
                    node = data.nodes[j];
                    if (node.id == link.source) {
                        node1 = node;
                    }
                    if (node.id == link.target) {
                        node2 = node;
                    }
                }
            
                if (node1.group=="1" || node2.group=="1") {
                    graph.removeLink(link.source, link.target);
                }
            }
            keepNodesOnTop();
        }
    );
    
    // after public health response
    _transitions.push(
        () => {
            graph.removeNode("GUTDNHTTAA")
            graph.addNode("GUTDNHTTAA", "R", 0.173827);
        }
    )
    
</script>
</body>
</html>
